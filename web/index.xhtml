<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <head>
        <script src="http://maps.google.com/maps/api/js?sensor=true"
        type="text/javascript"></script>
    </head>

    <body>
        <ui:composition template="./resources/template/template.xhtml">
            <ui:define name="content">
                <p:panelGrid columns="2" styleClass="alignTop" >
                    <p:panelGrid columns="2"  styleClass="alignTop" >



                        <p:panel header="#{labels.FillNewForm}" >

                            <h:form>
                                <h:panelGroup id="gpTis" >
                                    <h:selectOneMenu id="cmbHf" value="#{formDataentryController.healthForm}"  >
                                        <f:selectItem itemLabel="Please select a form" />
                                        <f:selectItems value="#{healthFormController.fillableForms}" var="form" itemLabel="#{form.code} - #{form.name}" itemValue="#{form}" >
                                        </f:selectItems>
                                        <f:ajax event="change" execute ="cmbHf" render="gpTimes" />
                                    </h:selectOneMenu>
                                </h:panelGroup> 

                                <h:panelGroup id="gpTimes" >
                                    <h:panelGroup id="gpDaily" rendered="#{formDataentryController.healthForm.durationType eq 'Daily'}" >
                                        <p:calendar id="cf"  value="#{formDataentryController.fromDate}"  pattern="dd MM yyyy">
                                        </p:calendar>
                                    </h:panelGroup>

                                    <h:panelGroup id="gpMonthly" rendered="#{formDataentryController.healthForm.durationType eq 'Monthly'}">
                                        <p:selectOneMenu value="#{formDataentryController.yearVal}" >
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />
                                             <f:selectItem itemLabel="2010" itemValue="2014" />
                                            <f:selectItem itemLabel="2015" itemValue="2015" />
                                            <f:selectItem itemLabel="2016" itemValue="2016" />
                                            <f:selectItem itemLabel="2017" itemValue="2017" />
                                             <f:selectItem itemLabel="2018" itemValue="2018" />
                                            <f:selectItem itemLabel="2019" itemValue="2019" />
                                            <f:selectItem itemLabel="2020" itemValue="2020" />
                                        </p:selectOneMenu>
                                        <p:selectOneMenu  value="#{formDataentryController.monthVal}">
                                            <f:selectItem itemLabel="January" itemValue="1" />
                                            <f:selectItem itemLabel="February" itemValue="2" />
                                            <f:selectItem itemLabel="March" itemValue="3" />
                                            <f:selectItem itemLabel="April" itemValue="4" />
                                            <f:selectItem itemLabel="May" itemValue="5" /> 
                                            <f:selectItem itemLabel="June" itemValue="6" />
                                            <f:selectItem itemLabel="July" itemValue="7" />
                                            <f:selectItem itemLabel="August" itemValue="8" />
                                            <f:selectItem itemLabel="September" itemValue="9" />
                                            <f:selectItem itemLabel="Octomber" itemValue="10" />
                                            <f:selectItem itemLabel="November" itemValue="11" /> 
                                            <f:selectItem itemLabel="December" itemValue="12" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>


                                    <h:panelGroup id="gpQuarterly" rendered="#{formDataentryController.healthForm.durationType eq 'Quarterly'}">
                                        <p:selectOneMenu value="#{formDataentryController.yearVal}">
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />
                                              <f:selectItem itemLabel="2014" itemValue="2014" />
                                            <f:selectItem itemLabel="2015" itemValue="2015" />
                                            <f:selectItem itemLabel="2016" itemValue="2016" />
                                            <f:selectItem itemLabel="2017" itemValue="2017" />
                                             <f:selectItem itemLabel="2018" itemValue="2018" />
                                            <f:selectItem itemLabel="2019" itemValue="2019" />
                                            <f:selectItem itemLabel="2020" itemValue="2020" />
                                            

                                        </p:selectOneMenu>
                                        <p:selectOneMenu  value="#{formDataentryController.quarterVal}">
                                            <f:selectItem itemLabel="Select Quarter" />
                                            <f:selectItem itemLabel="First" itemValue="1" />
                                            <f:selectItem itemLabel="Secoond" itemValue="2" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>


                                    <h:panelGroup id="gpYearly" rendered="#{formDataentryController.healthForm.durationType eq 'Annually'}">
                                        <p:selectOneMenu  value="#{formDataentryController.yearVal}">
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />
                                                <f:selectItem itemLabel="2014" itemValue="2014" />
                                            <f:selectItem itemLabel="2015" itemValue="2015" />
                                            <f:selectItem itemLabel="2016" itemValue="2016" />
                                            <f:selectItem itemLabel="2017" itemValue="2017" />
                                             <f:selectItem itemLabel="2018" itemValue="2018" />
                                            <f:selectItem itemLabel="2019" itemValue="2019" />
                                            <f:selectItem itemLabel="2020" itemValue="2020" />


                                        </p:selectOneMenu>
                                    </h:panelGroup>

                                </h:panelGroup>

                                <p:commandButton ajax="false" value="Enter Data" action="#{formDataentryController.startRoleDataEntry()}" >
                                </p:commandButton>
                            </h:form>
                        </p:panel>






                        <p:panel header="#{labels.FormstoEnterData}" >
                            <h:form>    
                                <p:dataTable value="#{formDataentryController.formsToFill}" var="ftf"   >
                                    <p:column headerText="Form No." >
                                        <h:outputLabel value="#{ftf.code}" />
                                    </p:column>
                                    <p:column headerText="Form Name" >
                                        <h:outputLabel value="#{ftf.name}" />
                                    </p:column>
                                    <p:column>
                                        <h:commandButton value="Start Entering Data"  action="#{formDataentryController.startRoleDataEntry}" >
                                            <f:setPropertyActionListener value="#{ftf}" target="#{formDataentryController.healthForm}" />
                                        </h:commandButton>
                                    </p:column>
                                </p:dataTable>

                            </h:form>

                        </p:panel>

                        <p:panel header="#{labels.RecentFormstoForward}" >
                            <h:form>
                                <p:dataTable value="#{formDataentryController.filledFormsTopTen}" var="fhf" paginator="true"
                         >
                                    <p:column headerText="#{labels.healthFormName}" >
                                        <h:outputLabel value="#{fhf.item.name}" />
                                    </p:column>
                                    <p:column headerText="#{labels.Duration}" >
                                        <h:outputLabel value=" #{labels.Year} : #{fhf.yearVal}"  rendered="#{fhf.yearVal>0}"/>
                                        <h:outputLabel value=" #{labels.Month} : #{fhf.monthVal} " rendered="#{fhf.monthVal>0}" />
                                     
                                         <p:outputLabel value=" #{labels.Date} : "  rendered="#{ fhf.yearVal le 0 and fhf.monthVal le 0 }" >
                                          
                                        </p:outputLabel>
                                        <p:outputLabel value="#{fhf.fromDate}"  rendered="#{ fhf.yearVal le 0 and fhf.monthVal le 0 }" >
                                            <f:convertDateTime pattern="DD MMMM YYYY" />
                                        </p:outputLabel>
                                    
                                    
                                    
                                    </p:column>
                                    <p:column headerText="View/Edit" >
                                        <p:commandButton value="View/Edit" action="health_form_fill" ajax="false" >
                                            <f:setPropertyActionListener value="#{fhf}" target="#{formDataentryController.filledHealthForm}" />
                                        </p:commandButton>
                                    </p:column>

                                </p:dataTable>
                                <h:commandLink value="List all forms awaiting forward" action="all_forms_to_submit" ></h:commandLink>
                            </h:form>
                        </p:panel>
                        <p:panel header="#{labels.RecentlySubmittedForms}" >
                            <h:form>
                                <p:dataTable value="#{formDataentryController.submittedFormsTopTen}" var="shf"   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15">
                                    <p:column headerText="Form" >
                                        <h:outputLabel value="#{shf.item.name}" />
                                    </p:column>
                                    <p:column headerText="Time Period" >
                                          <h:outputLabel value=" Year : #{shf.yearVal}"  rendered="#{shf.yearVal>0}"/>
                                        <h:outputLabel value=" Month : #{shf.monthVal} " rendered="#{shf.monthVal>0}" />
                                     
                                        <p:outputLabel value=" Date : #{shf.fromDate}"  rendered="#{ shf.yearVal le 0 and shf.monthVal le 0 }" >
                                            <f:convertDateTime pattern="DD MM YYYY" />
                                        </p:outputLabel>
                                    </p:column>
                                    <p:column headerText="View" >
                                        <p:commandButton value="View" action="health_form_fill" ajax="false" >
                                            <f:setPropertyActionListener value="#{shf}" target="#{formDataentryController.filledHealthForm}" />
                                        </p:commandButton>
                                    </p:column>
                                    <h:commandLink value="List all forms awaiting forward" action="all_forms_submitted" ></h:commandLink>
                                </p:dataTable>
                            </h:form>
                        </p:panel>




                        <p:panel header="#{labels.RecentlyReceivedForms}" >
                            <h:form>
                                <p:dataTable value="#{formDataentryController.receivedFormsTopTen}" var="shf" >
                                    <p:column headerText="#{labels.healthFormName}" >
                                        <h:outputLabel value="#{shf.item.name}" />
                                    </p:column>
                                    
                                    <p:column headerText="#{labels.From}" >
                                        <h:outputLabel value="#{shf.area.name}" />
                                    </p:column>
                                    <p:column headerText="#{labels.Duration}" >
                                          <h:outputLabel value=" Year : #{shf.yearVal}"  rendered="#{shf.yearVal>0}"/>
                                        <h:outputLabel value=" Month : #{shf.monthVal} " rendered="#{shf.monthVal>0}" />
                                     
                                        <p:outputLabel value=" Date : #{shf.fromDate}"  rendered="#{ shf.yearVal le 0 and shf.monthVal le 0 }" >
                                            <f:convertDateTime pattern="DD MM YYYY" />
                                        </p:outputLabel>
                                    </p:column>
                                   
                                    <p:column headerText="View" >
                                        <p:commandButton value="View" action="health_form_fill" ajax="false" >
                                            <f:setPropertyActionListener value="#{shf}" target="#{formDataentryController.filledHealthForm}" />
                                        </p:commandButton>
                                    </p:column>
                                    <h:commandLink value="List all received forms" action="all_forms_received" ></h:commandLink>
                                </p:dataTable>
                            </h:form>
                        </p:panel>








                        <p:panel header="Fill New Form" >

                            <h:form>
                                <h:panelGroup id="gpTis" >
                                    <h:selectOneMenu id="cmbHf" value="#{formDataentryController.healthForm}"  >
                                        <f:selectItem itemLabel="Please select a form" />
                                        <f:selectItems value="#{healthFormController.fillableForms}" var="form" itemLabel="#{form.code} - #{form.name}" itemValue="#{form}" >
                                        </f:selectItems>
                                        <f:ajax event="change" execute ="cmbHf" render="gpTimes" />
                                    </h:selectOneMenu>
                                </h:panelGroup> 

                                <h:panelGroup id="gpTimes" >
                                    <h:panelGroup id="gpDaily" rendered="#{formDataentryController.healthForm.durationType eq 'Daily'}" >
                                        <p:calendar yearRange="#{formDataentryController.yearVal}"  value="#{formDataentryController.formDate}">
                                        </p:calendar>
                                    </h:panelGroup>

                                    <h:panelGroup id="gpMonthly" rendered="#{formDataentryController.healthForm.durationType eq 'Monthly'}">
                                        <p:selectOneMenu value="#{formDataentryController.yearVal}" >
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />
                                        </p:selectOneMenu>
                                        <p:selectOneMenu  value="#{formDataentryController.monthVal}">
                                            <f:selectItem itemLabel="January" itemValue="1" />
                                            <f:selectItem itemLabel="February" itemValue="2" />
                                            <f:selectItem itemLabel="March" itemValue="3" />
                                            <f:selectItem itemLabel="April" itemValue="4" />
                                            <f:selectItem itemLabel="May" itemValue="5" /> 
                                            <f:selectItem itemLabel="June" itemValue="6" />
                                            <f:selectItem itemLabel="July" itemValue="7" />
                                            <f:selectItem itemLabel="August" itemValue="8" />
                                            <f:selectItem itemLabel="September" itemValue="9" />
                                            <f:selectItem itemLabel="Octomber" itemValue="10" />
                                            <f:selectItem itemLabel="November" itemValue="11" /> 
                                            <f:selectItem itemLabel="December" itemValue="12" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>


                                    <h:panelGroup id="gpQuarterly" rendered="#{formDataentryController.healthForm.durationType eq 'Quarterly'}">
                                        <p:selectOneMenu value="#{formDataentryController.yearVal}">
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />

                                        </p:selectOneMenu>
                                        <p:selectOneMenu  value="#{formDataentryController.quarterVal}">
                                            <f:selectItem itemLabel="Select Quarter" />
                                            <f:selectItem itemLabel="First" itemValue="1" />
                                            <f:selectItem itemLabel="Secoond" itemValue="2" />
                                        </p:selectOneMenu>
                                    </h:panelGroup>


                                    <h:panelGroup id="gpYearly" rendered="#{formDataentryController.healthForm.durationType eq 'Annually'}">
                                        <p:selectOneMenu  value="#{formDataentryController.yearVal}">
                                            <f:selectItem itemLabel="Select Year" />
                                            <f:selectItem itemLabel="2010" itemValue="2010" />
                                            <f:selectItem itemLabel="2011" itemValue="2011" />
                                            <f:selectItem itemLabel="2012" itemValue="2012" />
                                            <f:selectItem itemLabel="2013" itemValue="2013" />
                                            <f:selectItem itemLabel="2014" itemValue="2014" />


                                        </p:selectOneMenu>
                                    </h:panelGroup>

                                </h:panelGroup>

                                <p:commandButton ajax="false" value="Enter Data" action="#{formDataentryController.startRoleDataEntry()}" >
                                </p:commandButton>
                            </h:form>
                        </p:panel>


                    </p:panelGrid>
                </p:panelGrid>
            </ui:define>
        </ui:composition>
    </body>
</html>
